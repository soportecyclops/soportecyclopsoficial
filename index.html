<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Soporte Cyclops - Soluciones t茅cnicas integrales para hogares, empresas y organizaciones en Argentina">
    <meta name="keywords" content="soporte t茅cnico, redes, CCTV, alarmas, dom贸tica, ciberseguridad, Argentina">
    <link rel="icon" href="https://public-frontend-cos.metadl.com/mgx/img/favicon.png" type="image/png">
    <title>Soporte Cyclops - Servicios T茅cnicos Profesionales</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* ESTILOS GENERALES */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Open Sans', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* HEADER */
        .navbar {
            background-color: #fff;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }
        
        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }
        
        .logo {
            display: flex;
            align-items: center;
        }
        
        .logo-text {
            display: flex;
            align-items: center;
            font-weight: 700;
            font-size: 1.5rem;
            color: #2c3e50;
        }
        
        .logo-text i {
            margin-right: 10px;
            color: #3498db;
        }
        
        .nav-menu {
            display: flex;
            list-style: none;
        }
        
        .nav-menu li {
            margin-left: 30px;
        }
        
        .nav-menu a {
            text-decoration: none;
            color: #2c3e50;
            font-weight: 600;
            transition: color 0.3s;
        }
        
        .nav-menu a:hover {
            color: #3498db;
        }
        
        .menu-toggle {
            display: none;
            flex-direction: column;
            background: none;
            border: none;
            cursor: pointer;
        }
        
        .menu-toggle span {
            width: 25px;
            height: 3px;
            background-color: #2c3e50;
            margin: 3px 0;
            transition: 0.3s;
        }
        
        /* HERO SECTION */
        .hero {
            background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('https://images.unsplash.com/photo-1581092160562-40aa08e78837?w=1200') center/cover no-repeat;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
            margin-top: 70px;
        }
        
        .hero-content {
            max-width: 800px;
            padding: 0 20px;
        }
        
        .hero-title {
            font-size: 3.5rem;
            margin-bottom: 20px;
            font-weight: 700;
        }
        
        .hero-subtitle {
            font-size: 1.5rem;
            margin-bottom: 10px;
            font-weight: 400;
        }
        
        .hero-tagline {
            font-size: 1.2rem;
            margin-bottom: 30px;
            font-weight: 300;
        }
        
        .hero-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            padding: 12px 25px;
            border-radius: 5px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
        }
        
        .btn i {
            margin-right: 8px;
        }
        
        .btn-primary {
            background-color: #3498db;
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #2980b9;
        }
        
        .btn-secondary {
            background-color: transparent;
            color: white;
            border: 2px solid white;
        }
        
        .btn-secondary:hover {
            background-color: white;
            color: #333;
        }
        
        /* SERVICES SECTION */
        .services {
            padding: 100px 0;
            background-color: white;
        }
        
        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: #2c3e50;
        }
        
        .section-subtitle {
            text-align: center;
            font-size: 1.2rem;
            margin-bottom: 50px;
            color: #7f8c8d;
        }
        
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .service-card {
            background-color: #f8f9fa;
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .service-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
        }
        
        .service-icon {
            font-size: 3rem;
            color: #3498db;
            margin-bottom: 20px;
        }
        
        .service-card h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: #2c3e50;
        }
        
        .service-card p {
            color: #7f8c8d;
        }
        
        /* ABOUT SECTION */
        .about {
            padding: 100px 0;
            background-color: #f8f9fa;
        }
        
        .about-content {
            display: flex;
            align-items: center;
            gap: 50px;
        }
        
        .about-text {
            flex: 1;
        }
        
        .about-description {
            margin-bottom: 20px;
            color: #555;
        }
        
        .about-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
        }
        
        .stat {
            text-align: center;
        }
        
        .stat i {
            font-size: 2.5rem;
            color: #3498db;
            margin-bottom: 10px;
        }
        
        .stat h3 {
            font-size: 1.8rem;
            color: #2c3e50;
            margin-bottom: 5px;
        }
        
        .stat p {
            color: #7f8c8d;
        }
        
        .about-image {
            flex: 1;
            text-align: center;
        }
        
        .about-image img {
            max-width: 100%;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        /* CONTACT SECTION */
        .contact {
            padding: 100px 0;
            background-color: white;
        }
        
        .contact-content {
            display: flex;
            gap: 50px;
        }
        
        .contact-form {
            flex: 1;
        }
        
        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .form-group {
            flex: 1;
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: 'Open Sans', sans-serif;
            font-size: 1rem;
        }
        
        .checkbox-group {
            display: flex;
            align-items: center;
        }
        
        .checkbox-group input {
            width: auto;
            margin-right: 10px;
        }
        
        .btn-submit {
            margin-top: 20px;
            margin-right: 15px;
        }
        
        .contact-info {
            flex: 1;
            background-color: #f8f9fa;
            padding: 30px;
            border-radius: 10px;
        }
        
        .contact-info h3 {
            margin-bottom: 20px;
            color: #2c3e50;
        }
        
        .contact-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 25px;
        }
        
        .contact-item i {
            font-size: 1.2rem;
            color: #3498db;
            margin-right: 15px;
            margin-top: 5px;
        }
        
        .contact-item h4 {
            margin-bottom: 5px;
            color: #2c3e50;
        }
        
        .contact-item a {
            color: #3498db;
            text-decoration: none;
        }
        
        .contact-item a:hover {
            text-decoration: underline;
        }
        
        .whatsapp-link {
            display: inline-block;
            background-color: #25D366;
            color: white;
            padding: 8px 15px;
            border-radius: 5px;
            font-weight: 600;
        }
        
        .business-hours {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #ddd;
        }
        
        .business-hours h4 {
            margin-bottom: 10px;
            color: #2c3e50;
        }

        /* AGENDA SECTION */
        .agenda-section {
            padding: 80px 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .agenda-section .section-title,
        .agenda-section .section-subtitle {
            color: white;
        }

        .agenda-container {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            color: #333;
        }

        .calendar-sidebar {
            border-right: 1px solid #eee;
            padding-right: 30px;
        }

        .calendar-sidebar h3 {
            margin-bottom: 20px;
            color: #2c3e50;
        }

        .calendar-main {
            display: flex;
            flex-direction: column;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .calendar-header button {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .calendar-header button:hover {
            background: #2980b9;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            margin-bottom: 20px;
        }

        .calendar-day {
            padding: 10px;
            text-align: center;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .calendar-day.header {
            font-weight: bold;
            background: #f8f9fa;
            cursor: default;
        }

        .calendar-day.empty {
            background: transparent;
            cursor: default;
        }

        .calendar-day:hover {
            background: #ecf0f1;
        }

        .calendar-day.available {
            background: #e8f5e8;
            color: #27ae60;
        }

        .calendar-day.selected {
            background: #3498db;
            color: white;
        }

        .calendar-day.unavailable {
            background: #f8d7da;
            color: #721c24;
            cursor: not-allowed;
        }

        .calendar-day.today {
            border: 2px solid #3498db;
        }

        .time-slots h4 {
            margin-bottom: 15px;
            color: #2c3e50;
        }

        .slots-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 10px;
            margin-bottom: 20px;
        }

        .time-slot {
            padding: 10px;
            text-align: center;
            background: #ecf0f1;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .time-slot:hover {
            background: #bdc3c7;
        }

        .time-slot.selected {
            background: #3498db;
            color: white;
        }

        .time-slot.unavailable {
            background: #f8d7da;
            color: #721c24;
            cursor: not-allowed;
        }

        #confirmAppointment:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
        }
        
        /* FOOTER */
        .footer {
            background-color: #2c3e50;
            color: white;
            padding: 60px 0 20px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .footer-section h3 {
            margin-bottom: 20px;
            font-size: 1.3rem;
        }
        
        .footer-section ul {
            list-style: none;
        }
        
        .footer-section ul li {
            margin-bottom: 10px;
        }
        
        .footer-section a {
            color: #bdc3c7;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-section a:hover {
            color: white;
        }
        
        .social-links {
            display: flex;
            gap: 15px;
        }
        
        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: #34495e;
            border-radius: 50%;
            transition: background-color 0.3s;
        }
        
        .social-links a:hover {
            background-color: #3498db;
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid #34495e;
            color: #bdc3c7;
        }
        
        /* CHATBOT STYLES */
        .chatbot-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 10000;
            font-family: 'Open Sans', sans-serif;
        }

        .chatbot-toggle {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #25D366, #128C7E);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.8rem;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
            transition: all 0.3s ease;
            position: relative;
            animation: gentlePulse 3s infinite;
            border: 3px solid white;
        }

        @keyframes gentlePulse {
            0% { transform: scale(1); box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4); }
            50% { transform: scale(1.05); box-shadow: 0 6px 25px rgba(37, 211, 102, 0.6); }
            100% { transform: scale(1); box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4); }
        }

        .chatbot-toggle:hover {
            transform: scale(1.1);
            animation: none;
        }

        .notification-dot {
            position: absolute;
            top: -5px;
            right: -5px;
            width: 12px;
            height: 12px;
            background: #e74c3c;
            border-radius: 50%;
            display: none;
        }

        .chatbot-window {
            position: absolute;
            bottom: 70px;
            right: 0;
            width: 380px;
            height: 520px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            display: none;
            flex-direction: column;
            overflow: hidden;
            border: 2px solid #e1e8ed;
            transform-origin: bottom right;
            animation: windowAppear 0.3s ease;
        }

        @keyframes windowAppear {
            from {
                opacity: 0;
                transform: scale(0.8) translateY(20px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .chatbot-header {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .chatbot-avatar {
            width: 40px;
            height: 40px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .chatbot-info {
            flex: 1;
        }

        .chatbot-info h3 {
            margin: 0;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .status {
            font-size: 0.8rem;
            opacity: 0.8;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background: #2ecc71;
            border-radius: 50%;
            animation: statusPulse 2s infinite;
        }

        @keyframes statusPulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .chatbot-close {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s;
        }

        .chatbot-close:hover {
            background: rgba(255,255,255,0.3);
        }

        .chatbot-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
            background: #f8f9fa;
        }

        .message {
            max-width: 85%;
            padding: 12px 16px;
            border-radius: 18px;
            line-height: 1.5;
            animation: messageAppear 0.3s ease;
            font-size: 0.9rem;
        }

        .bot-message {
            align-self: flex-start;
            background: white;
            color: #2c3e50;
            border-bottom-left-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.08);
            border-left: 3px solid #3498db;
        }

        .user-message {
            align-self: flex-end;
            background: linear-gradient(135deg, #25D366, #128C7E);
            color: white;
            border-bottom-right-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .message-content {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .welcome-message strong {
            display: block;
            margin-bottom: 8px;
            font-size: 1.1rem;
            color: #2c3e50;
        }

        .welcome-message p {
            margin: 0;
            color: #5a6c7d;
        }

        .quick-questions {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
            margin-top: 15px;
        }

        .quick-question {
            background: #e3f2fd;
            color: #1976d2;
            border: 1px solid #bbdefb;
            border-radius: 12px;
            padding: 12px 15px;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
            text-align: left;
            font-weight: 500;
        }

        .quick-question:hover {
            background: #bbdefb;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .quick-question i {
            font-size: 1rem;
            color: #3498db;
        }

        .chatbot-input-container {
            border-top: 1px solid #e1e8ed;
            background: white;
        }

        .suggestions {
            padding: 12px 20px;
            border-bottom: 1px solid #e1e8ed;
            display: flex;
            align-items: center;
            gap: 8px;
            flex-wrap: wrap;
            font-size: 0.8rem;
            color: #7f8c8d;
            background: #f8f9fa;
        }

        .suggestion-btn {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 15px;
            padding: 5px 12px;
            font-size: 0.75rem;
            color: #3498db;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
        }

        .suggestion-btn:hover {
            background: #3498db;
            color: white;
            border-color: #3498db;
        }

        .chatbot-input {
            display: flex;
            padding: 15px 20px;
            gap: 10px;
        }

        .chatbot-input input {
            flex: 1;
            padding: 12px 16px;
            border: 1px solid #e1e8ed;
            border-radius: 25px;
            outline: none;
            font-family: 'Open Sans', sans-serif;
            font-size: 0.9rem;
            transition: all 0.3s;
            background: #f8f9fa;
        }

        .chatbot-input input:focus {
            border-color: #3498db;
            background: white;
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }

        .send-btn {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            box-shadow: 0 2px 8px rgba(52, 152, 219, 0.3);
        }

        .send-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(52, 152, 219, 0.4);
        }

        .service-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            margin-top: 12px;
        }

        .service-option {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 10px 8px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            font-weight: 500;
            color: #2c3e50;
        }

        .service-option:hover {
            background: #3498db;
            color: white;
            border-color: #3498db;
            transform: translateY(-2px);
        }

        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 12px 16px;
            background: white;
            border-radius: 18px;
            border-bottom-left-radius: 5px;
            width: fit-content;
            box-shadow: 0 2px 5px rgba(0,0,0,0.08);
            border-left: 3px solid #3498db;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: #95a5a6;
            border-radius: 50%;
            animation: typing 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }

        @keyframes typing {
            0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }

        .chatbot-footer {
            padding: 10px 20px;
            text-align: center;
            font-size: 0.7rem;
            color: #95a5a6;
            background: #f8f9fa;
            border-top: 1px solid #e1e8ed;
        }

        /* ESTILOS DIAGNSTICO CHATBOT */
        .diagnostic-question {
            font-weight: 600;
            margin-bottom: 15px;
            color: #2c3e50;
            font-size: 0.95rem;
        }

        .diagnostic-options {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-top: 10px;
        }

        .diagnostic-option {
            background: #e3f2fd;
            border: 1px solid #bbdefb;
            border-radius: 12px;
            padding: 12px 15px;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.85rem;
            font-weight: 500;
            color: #1976d2;
        }

        .diagnostic-option:hover {
            background: #bbdefb;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .diagnostic-result {
            background: #e8f5e8;
            border: 1px solid #c8e6c9;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            font-size: 0.9rem;
        }

        .diagnostic-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .diagnostic-action {
            background: #3498db;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 8px 15px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: background 0.3s;
        }

        .diagnostic-action:hover {
            background: #2980b9;
        }

        /* RESPONSIVE */
        @media (max-width: 992px) {
            .about-content {
                flex-direction: column;
            }
            
            .contact-content {
                flex-direction: column;
            }
            
            .hero-title {
                font-size: 2.5rem;
            }
            
            .hero-subtitle {
                font-size: 1.2rem;
            }

            .agenda-container {
                grid-template-columns: 1fr;
            }

            .calendar-sidebar {
                border-right: none;
                padding-right: 0;
                border-bottom: 1px solid #eee;
                padding-bottom: 30px;
            }
        }
        
        @media (max-width: 768px) {
            .menu-toggle {
                display: flex;
            }
            
            .nav-menu {
                position: fixed;
                top: 70px;
                left: -100%;
                flex-direction: column;
                background-color: white;
                width: 100%;
                text-align: center;
                transition: 0.3s;
                box-shadow: 0 10px 27px rgba(0,0,0,0.05);
                padding: 20px 0;
            }
            
            .nav-menu.active {
                left: 0;
            }
            
            .nav-menu li {
                margin: 15px 0;
            }
            
            .hero-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            
            .about-stats {
                flex-direction: column;
                gap: 20px;
            }
            
            .chatbot-window {
                width: 320px;
                height: 480px;
                right: 10px;
                bottom: 80px;
            }
            
            .chatbot-header {
                padding: 12px 15px;
            }
            
            .quick-questions {
                grid-template-columns: 1fr;
            }
            
            .service-options {
                grid-template-columns: 1fr;
            }
            
            .chatbot-toggle {
                width: 55px;
                height: 55px;
                font-size: 1.5rem;
            }

            .agenda-container {
                padding: 20px;
            }

            .calendar-grid {
                grid-template-columns: repeat(7, 1fr);
                gap: 3px;
            }

            .calendar-day {
                padding: 8px 5px;
                font-size: 0.8rem;
            }

            .slots-container {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        /* ANIMATIONS */
        .fade-in {
            animation: fadeIn 1s ease-in;
        }
        
        .slide-up {
            animation: slideUp 0.8s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
    </style>
</head>

<body>
    <!-- Header & Navigation -->
    <header id="header">
        <nav class="navbar">
            <div class="container nav-container">
                <div class="logo">
                    <div class="logo-text">
                        <i class="fas fa-eye"></i>
                        <span>Soporte Cyclops</span>
                    </div>
                </div>
                <button class="menu-toggle" id="menuToggle" aria-label="Toggle menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <ul class="nav-menu" id="navMenu">
                    <li><a href="#inicio" class="nav-link active">Inicio</a></li>
                    <li><a href="#servicios" class="nav-link">Servicios</a></li>
                    <li><a href="#sobre-mi" class="nav-link">Sobre m铆</a></li>
                    <li><a href="#contacto" class="nav-link">Contacto</a></li>
                    <li><a href="#agenda" class="nav-link">Agenda</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section id="inicio" class="hero">
        <div class="hero-content">
            <h1 class="hero-title fade-in">Soporte Cyclops</h1>
            <p class="hero-subtitle fade-in">Soluciones t茅cnicas integrales para hogares, empresas y organizaciones</p>
            <p class="hero-tagline fade-in">Confiabilidad y experiencia en cada servicio</p>
            <div class="hero-buttons fade-in">
                <a href="#contacto" class="btn btn-primary">
                    <i class="fas fa-file-invoice"></i> Solicitar Cotizaci贸n
                </a>
                <a href="#agenda" class="btn btn-secondary">
                    <i class="fas fa-calendar-check"></i> Agendar Servicio
                </a>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section id="servicios" class="services">
        <div class="container">
            <h2 class="section-title">Nuestros Servicios</h2>
            <p class="section-subtitle">Soluciones profesionales adaptadas a tus necesidades</p>
            <div class="services-grid">
                <div class="service-card slide-up">
                    <div class="service-icon">
                        <i class="fas fa-laptop-code"></i>
                    </div>
                    <h3>Soporte Inform谩tico</h3>
                    <p>Mantenimiento, reparaci贸n y optimizaci贸n de equipos. Instalaci贸n de software y soluci贸n de problemas t茅cnicos.</p>
                </div>
                <div class="service-card slide-up">
                    <div class="service-icon">
                        <i class="fas fa-network-wired"></i>
                    </div>
                    <h3>Redes Cableadas e Inal谩mbricas</h3>
                    <p>Dise帽o, instalaci贸n y configuraci贸n de redes empresariales. Optimizaci贸n de conectividad WiFi y cableado estructurado.</p>
                </div>
                <div class="service-card slide-up">
                    <div class="service-icon">
                        <i class="fas fa-video"></i>
                    </div>
                    <h3>C谩maras de Seguridad / CCTV</h3>
                    <p>Instalaci贸n de sistemas de videovigilancia IP y anal贸gicos. Monitoreo remoto y grabaci贸n continua.</p>
                </div>
                <div class="service-card slide-up">
                    <div class="service-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3>Alarmas y Barreras</h3>
                    <p>Sistemas de seguridad perimetral, alarmas anti-intrusi贸n y control de accesos automatizados.</p>
                </div>
                <div class="service-card slide-up">
                    <div class="service-icon">
                        <i class="fas fa-home"></i>
                    </div>
                    <h3>Dom贸tica</h3>
                    <p>Automatizaci贸n inteligente del hogar. Control de iluminaci贸n, climatizaci贸n y dispositivos conectados.</p>
                </div>
                <div class="service-card slide-up">
                    <div class="service-icon">
                        <i class="fas fa-lock"></i>
                    </div>
                    <h3>Ciberseguridad y Mantenimiento</h3>
                    <p>Protecci贸n de datos, auditor铆as de seguridad y mantenimiento preventivo de infraestructura IT.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="sobre-mi" class="about">
        <div class="container">
            <div class="about-content">
                <div class="about-text slide-up">
                    <h2 class="section-title">Sobre m铆</h2>
                    <p class="about-description">
                        M谩s de 10 a帽os de experiencia en soporte inform谩tico, redes cableadas e inal谩mbricas, CCTV, alarmas, dom贸tica y mantenimiento integral.
                    </p>
                    <p class="about-description">
                        He trabajado con empresas de primer nivel como <strong>Radio Nacional</strong>, <strong>L'Or茅al</strong>, <strong>Cordial Compa帽铆a Financiera</strong> y el <strong>Aut贸dromo de Buenos Aires</strong>, brindando soluciones t茅cnicas confiables y eficientes.
                    </p>
                    <p class="about-description">
                        Mi compromiso es ofrecer servicios de calidad, con atenci贸n personalizada y resultados garantizados para cada proyecto.
                    </p>
                    <div class="about-stats">
                        <div class="stat">
                            <i class="fas fa-award"></i>
                            <h3>+10 a帽os</h3>
                            <p>De experiencia</p>
                        </div>
                        <div class="stat">
                            <i class="fas fa-users"></i>
                            <h3>+500</h3>
                            <p>Clientes satisfechos</p>
                        </div>
                        <div class="stat">
                            <i class="fas fa-tools"></i>
                            <h3>+1000</h3>
                            <p>Servicios realizados</p>
                        </div>
                    </div>
                </div>
                <div class="about-image slide-up">
                    <img src="https://images.unsplash.com/photo-1581092160562-40aa08e78837?w=800" alt="Soporte T茅cnico Profesional">
                </div>
            </div>
        </div>
    </section>

    <!-- Contact & Quote Section -->
    <section id="contacto" class="contact">
        <div class="container">
            <h2 class="section-title">Contacto y Cotizaci贸n</h2>
            <p class="section-subtitle">Completa el formulario y nos pondremos en contacto contigo</p>
            <div class="contact-content">
                <form id="contactForm" class="contact-form slide-up">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="nombre">Nombre y Apellido *</label>
                            <input type="text" id="nombre" name="nombre" required>
                        </div>
                        <div class="form-group">
                            <label for="telefono">Tel茅fono *</label>
                            <input type="tel" id="telefono" name="telefono" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="email">Email *</label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="direccion">Direcci贸n / Zona *</label>
                            <input type="text" id="direccion" name="direccion" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="servicio">Servicio Solicitado *</label>
                            <select id="servicio" name="servicio" required>
                                <option value="">Seleccione un servicio</option>
                                <option value="soporte-informatico">Soporte Inform谩tico</option>
                                <option value="redes">Redes Cableadas e Inal谩mbricas</option>
                                <option value="cctv">C谩maras de Seguridad / CCTV</option>
                                <option value="alarmas">Alarmas y Barreras</option>
                                <option value="domotica">Dom贸tica</option>
                                <option value="ciberseguridad">Ciberseguridad y Mantenimiento</option>
                                <option value="otro">Otro</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="fecha">Fecha y Hora Preferidas</label>
                            <input type="datetime-local" id="fecha" name="fecha">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="descripcion">Descripci贸n del Servicio *</label>
                        <textarea id="descripcion" name="descripcion" rows="4" required></textarea>
                    </div>
                    <div class="form-group checkbox-group">
                        <input type="checkbox" id="visitaTecnica" name="visitaTecnica">
                        <label for="visitaTecnica">Solicitar visita t茅cnica</label>
                    </div>
                    <button type="button" id="whatsappBtn" class="btn btn-primary btn-submit">
                        <i class="fab fa-whatsapp"></i> Enviar por WhatsApp
                    </button>
                    <button type="button" id="scheduleGoogleBtn" class="btn btn-secondary btn-submit">
                        <i class="fab fa-google"></i> Agendar con Google Calendar
                    </button>
                    <div id="formMessage" class="form-message"></div>
                </form>
                <div class="contact-info slide-up">
                    <h3>Informaci贸n de Contacto</h3>
                    <div class="contact-item">
                        <i class="fas fa-phone"></i>
                        <div>
                            <h4>Tel茅fono</h4>
                            <p><a href="tel:+5491166804450">+54 9 11 6680-4450</a></p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-envelope"></i>
                        <div>
                            <h4>Email</h4>
                            <p><a href="mailto:soportecyclops@gmail.com">soportecyclops@gmail.com</a></p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <div>
                            <h4>Ubicaci贸n</h4>
                            <p>Capital Federal, Buenos Aires, Argentina</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <i class="fab fa-whatsapp"></i>
                        <div>
                            <h4>WhatsApp</h4>
                            <a href="https://wa.me/5491166804450" target="_blank" class="whatsapp-link">
                                Enviar mensaje
                            </a>
                        </div>
                    </div>
                    <div class="business-hours">
                        <h4>Horario de Atenci贸n</h4>
                        <p>Lunes a Viernes: 9:00 - 18:00</p>
                        <p>S谩bados: 9:00 - 13:00</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
       
    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Soporte Cyclops</h3>
                    <p>Servicios T茅cnicos Profesionales</p>
                    <p>Soluciones integrales para hogares, empresas y organizaciones</p>
                </div>
                <div class="footer-section">
                    <h3>Servicios</h3>
                    <ul>
                        <li><a href="#servicios">Soporte Inform谩tico</a></li>
                        <li><a href="#servicios">Redes y Conectividad</a></li>
                        <li><a href="#servicios">CCTV y Seguridad</a></li>
                        <li><a href="#servicios">Dom贸tica</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Contacto</h3>
                    <ul>
                        <li><i class="fas fa-phone"></i> <a href="tel:+5491166804450">+54 9 11 6680-4450</a></li>
                        <li><i class="fas fa-envelope"></i> <a href="mailto:soportecyclops@gmail.com">soportecyclops@gmail.com</a></li>
                        <li><i class="fas fa-map-marker-alt"></i> Buenos Aires, Argentina</li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>S铆guenos</h3>
                    <div class="social-links">
                        <a href="https://wa.me/5491166804450" target="_blank" aria-label="WhatsApp">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                        <a href="#" target="_blank" aria-label="Facebook">
                            <i class="fab fa-facebook"></i>
                        </a>
                        <a href="#" target="_blank" aria-label="Instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" target="_blank" aria-label="LinkedIn">
                            <i class="fab fa-linkedin"></i>
                        </a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Soporte Cyclops - Servicios T茅cnicos Profesionales. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Chatbot Integrado -->
    <div class="chatbot-container">
        <div class="chatbot-toggle" id="chatbotToggle">
            <i class="fab fa-whatsapp"></i>
            <span class="notification-dot" id="notificationDot"></span>
        </div>
        <div class="chatbot-window" id="chatbotWindow">
            <div class="chatbot-header">
                <div class="chatbot-avatar">
                    <i class="fas fa-eye"></i>
                </div>
                <div class="chatbot-info">
                    <h3>Asistente Cyclops</h3>
                    <span class="status">
                        <span class="status-dot"></span>
                        En l铆nea - Te ayudo con gusto
                    </span>
                </div>
                <button class="chatbot-close" id="chatbotClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="chatbot-messages" id="chatbotMessages">
                <div class="message bot-message">
                    <div class="message-content">
                        <div class="welcome-message">
                            <strong>隆Hola! Soy tu asistente de Soporte Cyclops </strong>
                            <p>Estoy aqu铆 para ayudarte con informaci贸n sobre nuestros servicios t茅cnicos y resolver tus consultas. 驴En qu茅 puedo asistirte hoy?</p>
                        </div>
                        <div class="quick-questions">
                            <button class="quick-question" data-action="pc_problemas">
                                <i class="fas fa-stethoscope"></i>
                                Diagn贸stico de PC
                            </button>
                            <button class="quick-question" data-question="servicios">
                                <i class="fas fa-laptop-code"></i>
                                Conocer servicios disponibles
                            </button>
                            <button class="quick-question" data-question="cotizacion">
                                <i class="fas fa-file-invoice-dollar"></i>
                                Solicitar presupuesto
                            </button>
                            <button class="quick-question" data-question="emergencia">
                                <i class="fas fa-exclamation-triangle"></i>
                                Necesito ayuda urgente
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="chatbot-input-container">
                <div class="suggestions" id="suggestions">
                    <span>Preguntas frecuentes:</span>
                    <button class="suggestion-btn" data-question="precios">Precios y formas de pago</button>
                    <button class="suggestion-btn" data-question="garantias">Garant铆as</button>
                    <button class="suggestion-btn" data-question="horarios">Horarios y zona</button>
                </div>
                <div class="chatbot-input">
                    <input type="text" id="chatbotInput" placeholder="Escribe tu mensaje aqu铆...">
                    <button id="chatbotSend" class="send-btn">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
            <div class="chatbot-footer">
                Asistente virtual de Soporte Cyclops  Respuesta en menos de 1 minuto
            </div>
        </div>
    </div>
<script>
    // ===========================
    // NAVEGACIN Y FUNCIONALIDADES GENERALES
    // ===========================
    
    document.addEventListener('DOMContentLoaded', function() {
        // Mobile menu toggle
        const menuToggle = document.getElementById('menuToggle');
        const navMenu = document.getElementById('navMenu');
        
        if (menuToggle) {
            menuToggle.addEventListener('click', () => {
                navMenu.classList.toggle('active');
            });
        }

        // Close mobile menu when clicking on a link
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', () => {
                navMenu.classList.remove('active');
            });
        });

        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                if (targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 70,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // BOTN WHATSAPP DEL FORMULARIO
        const whatsappBtn = document.getElementById('whatsappBtn');
        if (whatsappBtn) {
            whatsappBtn.addEventListener('click', function() {
                const nombre = document.getElementById('nombre').value;
                const telefono = document.getElementById('telefono').value;
                const email = document.getElementById('email').value;
                const direccion = document.getElementById('direccion').value;
                const servicio = document.getElementById('servicio').value;
                const fecha = document.getElementById('fecha').value;
                const descripcion = document.getElementById('descripcion').value;
                const visitaTecnica = document.getElementById('visitaTecnica').checked;
                
                if (!nombre || !telefono || !email || !direccion || !servicio || !descripcion) {
                    alert('Por favor, complete todos los campos obligatorios (*)');
                    return;
                }
                
                let message = `Hola, me gustar铆a solicitar un servicio:\n\n`;
                message += `*Nombre:* ${nombre}\n`;
                message += `*Tel茅fono:* ${telefono}\n`;
                message += `*Email:* ${email}\n`;
                message += `*Direcci贸n/Zona:* ${direccion}\n`;
                message += `*Servicio solicitado:* ${servicio}\n`;
                
                if (fecha) {
                    message += `*Fecha y hora preferidas:* ${fecha}\n`;
                }
                
                message += `*Descripci贸n:* ${descripcion}\n`;
                
                if (visitaTecnica) {
                    message += `*Solicita visita t茅cnica:* S铆\n`;
                }
                
                const encodedMessage = encodeURIComponent(message);
                window.open(`https://wa.me/5491166804450?text=${encodedMessage}`, '_blank');
            });
        }

        console.log(" Navegaci贸n y funcionalidades generales inicializadas");
    });

    // ===========================
    // SISTEMA DE AGENDAMIENTO
    // ===========================

    class AppointmentScheduler {
        constructor() {
            this.selectedDate = null;
            this.selectedTime = null;
            this.currentDate = new Date();
            this.currentMonth = this.currentDate.getMonth();
            this.currentYear = this.currentDate.getFullYear();
            
            // Solo inicializar si existe la secci贸n de agenda
            if (document.getElementById('agenda')) {
                this.init();
            }
        }

        init() {
            console.log(' Inicializando sistema de agendamiento...');
            this.renderCalendar();
            this.generateTimeSlots();
            this.setupEventListeners();
            this.updateConfirmButton();
        }

        renderCalendar() {
            const calendarDays = document.getElementById('calendarDays');
            const currentMonthYear = document.getElementById('currentMonthYear');
            
            if (!calendarDays || !currentMonthYear) {
                console.error('No se encontraron los elementos del calendario');
                return;
            }
            
            // Limpiar el calendario
            calendarDays.innerHTML = '';
            
            // Establecer el t铆tulo del mes actual
            const monthNames = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio",
                "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];
            currentMonthYear.textContent = `${monthNames[this.currentMonth]} ${this.currentYear}`;
            
            // Obtener informaci贸n del mes
            const firstDay = new Date(this.currentYear, this.currentMonth, 1);
            const lastDay = new Date(this.currentYear, this.currentMonth + 1, 0);
            const daysInMonth = lastDay.getDate();
            const startingDay = firstDay.getDay();
            
            // Ajustar para que la semana comience en lunes
            const adjustedStartingDay = startingDay === 0 ? 6 : startingDay - 1;
            
            // A帽adir d铆as vac铆os para alinear el primer d铆a
            for (let i = 0; i < adjustedStartingDay; i++) {
                const emptyDay = document.createElement('div');
                emptyDay.className = 'calendar-day empty';
                calendarDays.appendChild(emptyDay);
            }
            
            // A帽adir los d铆as del mes
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            
            for (let day = 1; day <= daysInMonth; day++) {
                const dayElement = document.createElement('div');
                const dateStr = `${this.currentYear}-${(this.currentMonth + 1).toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`;
                const currentDay = new Date(this.currentYear, this.currentMonth, day);
                currentDay.setHours(0, 0, 0, 0);
                
                // Verificar si el d铆a est谩 disponible
                const isAvailable = this.isDateAvailable(currentDay);
                const isToday = currentDay.getTime() === today.getTime();
                const isSelected = this.selectedDate && this.selectedDate.toDateString() === currentDay.toDateString();
                
                // Establecer clases CSS
                let dayClass = 'calendar-day';
                if (isAvailable) {
                    dayClass += ' available';
                } else {
                    dayClass += ' unavailable';
                }
                if (isToday) {
                    dayClass += ' today';
                }
                if (isSelected) {
                    dayClass += ' selected';
                }
                
                dayElement.className = dayClass;
                dayElement.textContent = day;
                dayElement.setAttribute('data-date', dateStr);
                
                if (isAvailable) {
                    dayElement.addEventListener('click', () => {
                        this.selectDate(currentDay);
                    });
                } else {
                    dayElement.style.cursor = 'not-allowed';
                    dayElement.style.opacity = '0.5';
                }
                
                calendarDays.appendChild(dayElement);
            }
            
            console.log(' Calendario renderizado correctamente');
        }

        isDateAvailable(date) {
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            
            // No permitir fechas pasadas
            if (date < today) return false;
            
            // No permitir domingos (0 = Domingo)
            if (date.getDay() === 0) return false;
            
            return true;
        }

        generateTimeSlots() {
            const timeSlotsContainer = document.getElementById('timeSlotsContainer');
            if (!timeSlotsContainer) return;
            
            timeSlotsContainer.innerHTML = '';
            
            // Generar horarios de 8:00 AM a 6:00 PM
            for (let hour = 8; hour <= 18; hour++) {
                const time24 = `${hour.toString().padStart(2, '0')}:00`;
                const time12 = hour > 12 ? `${hour - 12}:00 PM` : `${hour}:00 AM`;
                
                const slotElement = document.createElement('div');
                slotElement.className = 'time-slot';
                slotElement.textContent = time12;
                slotElement.setAttribute('data-time', time24);
                
                slotElement.addEventListener('click', () => {
                    this.selectTime(time24, time12, slotElement);
                });
                
                timeSlotsContainer.appendChild(slotElement);
            }
            
            console.log(' Horarios generados correctamente');
        }

        selectDate(date) {
            this.selectedDate = date;
            
            // Actualizar UI
            document.querySelectorAll('.calendar-day').forEach(day => {
                day.classList.remove('selected');
            });
            
            const selectedDayElement = document.querySelector(`.calendar-day[data-date="${date.getFullYear()}-${(date.getMonth() + 1).toString().padStart(2, '0')}-${date.getDate().toString().padStart(2, '0')}"]`);
            if (selectedDayElement) {
                selectedDayElement.classList.add('selected');
            }
            
            this.updateConfirmButton();
            this.showTemporaryMessage(`Fecha seleccionada: ${this.formatDate(date)}`, 'success');
        }

        selectTime(time24, time12, element) {
            this.selectedTime = time24;
            
            // Actualizar UI
            document.querySelectorAll('.time-slot').forEach(slot => {
                slot.classList.remove('selected');
            });
            
            element.classList.add('selected');
            
            this.updateConfirmButton();
            this.showTemporaryMessage(`Hora seleccionada: ${time12}`, 'success');
        }

        setupEventListeners() {
            // Navegaci贸n del calendario
            const prevMonthBtn = document.getElementById('prevMonth');
            const nextMonthBtn = document.getElementById('nextMonth');
            
            if (prevMonthBtn) {
                prevMonthBtn.addEventListener('click', () => {
                    this.currentMonth--;
                    if (this.currentMonth < 0) {
                        this.currentMonth = 11;
                        this.currentYear--;
                    }
                    this.renderCalendar();
                    this.updateConfirmButton();
                });
            }

            if (nextMonthBtn) {
                nextMonthBtn.addEventListener('click', () => {
                    this.currentMonth++;
                    if (this.currentMonth > 11) {
                        this.currentMonth = 0;
                        this.currentYear++;
                    }
                    this.renderCalendar();
                    this.updateConfirmButton();
                });
            }
            
            // Limpiar selecci贸n
            const clearSelectionBtn = document.getElementById('clearSelection');
            if (clearSelectionBtn) {
                clearSelectionBtn.addEventListener('click', () => {
                    this.clearSelection();
                });
            }
            
            // Confirmar cita
            const confirmBtn = document.getElementById('confirmAppointment');
            if (confirmBtn) {
                confirmBtn.addEventListener('click', () => {
                    this.confirmAppointment();
                });
            }
        }

        clearSelection() {
            this.selectedDate = null;
            this.selectedTime = null;
            
            // Deseleccionar todos los d铆as y horarios
            document.querySelectorAll('.calendar-day').forEach(day => {
                day.classList.remove('selected');
            });
            
            document.querySelectorAll('.time-slot').forEach(slot => {
                slot.classList.remove('selected');
            });
            
            this.updateConfirmButton();
            this.showTemporaryMessage('Selecci贸n limpiada. Por favor, selecciona una nueva fecha y hora.', 'info');
        }

        isFormValid() {
            const nombre = document.getElementById('agendaNombre')?.value.trim() || '';
            const telefono = document.getElementById('agendaTelefono')?.value.trim() || '';
            const direccion = document.getElementById('agendaDireccion')?.value.trim() || '';
            const problema = document.getElementById('agendaProblema')?.value.trim() || '';
            
            return nombre !== '' && telefono !== '' && direccion !== '' && problema !== '';
        }

        updateConfirmButton() {
            const confirmBtn = document.getElementById('confirmAppointment');
            if (!confirmBtn) return;
            
            const isFormComplete = this.isFormValid();
            const hasSelection = this.selectedDate && this.selectedTime;
            
            if (isFormComplete && hasSelection) {
                confirmBtn.disabled = false;
                confirmBtn.style.opacity = '1';
                confirmBtn.style.cursor = 'pointer';
            } else {
                confirmBtn.disabled = true;
                confirmBtn.style.opacity = '0.6';
                confirmBtn.style.cursor = 'not-allowed';
            }
        }

        confirmAppointment() {
            if (!this.isFormValid()) {
                this.showTemporaryMessage('Por favor, completa todos los campos obligatorios.', 'error');
                return;
            }
            
            if (!this.selectedDate || !this.selectedTime) {
                this.showTemporaryMessage('Por favor, selecciona una fecha y hora.', 'error');
                return;
            }

            const appointmentData = {
                nombre: document.getElementById('agendaNombre').value,
                telefono: document.getElementById('agendaTelefono').value,
                email: document.getElementById('agendaEmail')?.value || '',
                direccion: document.getElementById('agendaDireccion').value,
                problema: document.getElementById('agendaProblema').value,
                fecha: this.selectedDate,
                hora: this.selectedTime
            };

            // Enviar por WhatsApp
            this.sendWhatsAppNotification(appointmentData);
            
            // Mostrar confirmaci贸n
            this.showConfirmation(appointmentData);
        }

        sendWhatsAppNotification(appointmentData) {
            const formattedDate = this.formatDate(appointmentData.fecha);
            
            let message = `隆Hola! Quiero agendar un servicio t茅cnico:\n\n`;
            message += `*Nombre:* ${appointmentData.nombre}\n`;
            message += `*Tel茅fono:* ${appointmentData.telefono}\n`;
            if (appointmentData.email) {
                message += `*Email:* ${appointmentData.email}\n`;
            }
            message += `*Direcci贸n:* ${appointmentData.direccion}\n`;
            message += `*Fecha solicitada:* ${formattedDate}\n`;
            message += `*Hora solicitada:* ${this.formatTime12(appointmentData.hora)}\n`;
            message += `*Problema/Servicio:* ${appointmentData.problema}\n\n`;
            message += `Por favor, confirmen mi reserva. 隆Gracias!`;
            
            const encodedMessage = encodeURIComponent(message);
            window.open(`https://wa.me/5491166804450?text=${encodedMessage}`, '_blank');
        }

        showConfirmation(appointmentData) {
            const formattedDate = this.formatDate(appointmentData.fecha);
            
            const confirmationHTML = `
                <div class="confirmation-modal" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); display: flex; align-items: center; justify-content: center; z-index: 10000;">
                    <div class="confirmation-content" style="background: white; padding: 30px; border-radius: 15px; max-width: 500px; width: 90%; text-align: center; box-shadow: 0 20px 40px rgba(0,0,0,0.3);">
                        <div style="font-size: 3rem; color: #27ae60; margin-bottom: 15px;"></div>
                        <h3 style="color: #27ae60; margin-bottom: 20px; font-size: 1.5rem;">隆Cita Agendada Exitosamente!</h3>
                        <div class="appointment-details" style="text-align: left; margin-bottom: 25px; background: #f8f9fa; padding: 20px; border-radius: 10px;">
                            <p><strong> Fecha:</strong> ${formattedDate}</p>
                            <p><strong> Hora:</strong> ${this.formatTime12(appointmentData.hora)}</p>
                            <p><strong> Cliente:</strong> ${appointmentData.nombre}</p>
                            <p><strong> Tel茅fono:</strong> ${appointmentData.telefono}</p>
                            <p><strong> Direcci贸n:</strong> ${appointmentData.direccion}</p>
                            <p><strong> Servicio:</strong> ${appointmentData.problema}</p>
                        </div>
                        <p style="color: #666; margin-bottom: 20px; font-size: 0.9rem;">
                            Te contactaremos pronto para confirmar los detalles de tu servicio.
                        </p>
                        <div class="confirmation-actions" style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
                            <button class="btn btn-primary" onclick="window.print()" style="padding: 12px 20px; font-size: 16px;">
                                <i class="fas fa-print"></i> Imprimir Comprobante
                            </button>
                            <button class="btn btn-secondary" onclick="this.closest('.confirmation-modal').remove(); location.reload();" style="padding: 12px 20px; font-size: 16px;">
                                <i class="fas fa-check"></i> Aceptar
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', confirmationHTML);
            
            // Limpiar formulario
            this.clearForm();
        }

        clearForm() {
            const agendaForm = document.getElementById('agendaForm');
            if (agendaForm) {
                agendaForm.reset();
            }
            this.clearSelection();
        }

        showTemporaryMessage(message, type = 'info') {
            // Eliminar mensaje anterior si existe
            const existingMessage = document.querySelector('.temporary-message');
            if (existingMessage) {
                existingMessage.remove();
            }
            
            const messageDiv = document.createElement('div');
            const backgroundColor = type === 'success' ? '#e8f5e8' : 
                                  type === 'error' ? '#ffeaa7' : '#e3f2fd';
            const textColor = type === 'success' ? '#27ae60' : 
                             type === 'error' ? '#e67e22' : '#1976d2';
            
            messageDiv.style.cssText = `
                background: ${backgroundColor}; 
                color: ${textColor}; 
                padding: 12px 15px; 
                border-radius: 8px; 
                margin: 10px 0; 
                text-align: center; 
                font-weight: 500;
                border-left: 4px solid ${textColor};
                font-size: 14px;
            `;
            messageDiv.textContent = message;
            messageDiv.classList.add('temporary-message');
            
            // Insertar despu茅s del bot贸n de limpiar
            const clearButton = document.getElementById('clearSelection');
            if (clearButton && clearButton.parentNode) {
                clearButton.parentNode.insertBefore(messageDiv, clearButton.nextSibling);
            }
            
            // Auto-eliminar despu茅s de 4 segundos
            setTimeout(() => {
                if (messageDiv.parentNode) {
                    messageDiv.parentNode.removeChild(messageDiv);
                }
            }, 4000);
        }

        formatDate(date) {
            return date.toLocaleDateString('es-AR', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
        }

        formatTime12(time24) {
            const [hours, minutes] = time24.split(':');
            const hour = parseInt(hours);
            const period = hour >= 12 ? 'PM' : 'AM';
            const hour12 = hour > 12 ? hour - 12 : hour;
            return `${hour12}:${minutes} ${period}`;
        }
    }

    // Inicializar el sistema de agendamiento cuando se carga la p谩gina
    document.addEventListener('DOMContentLoaded', function() {
        new AppointmentScheduler();
    });

    // ===========================
    // CHATBOT INTELIGENTE Y EMPTICO
    // ===========================

    // Inicializaci贸n del chatbot
    document.addEventListener('DOMContentLoaded', function() {
        console.log(" Inicializando chatbot inteligente...");
        initChatbot();
    });

    function initChatbot() {
        // Variables globales del chatbot
        const chatbotToggle = document.getElementById('chatbotToggle');
        const chatbotWindow = document.getElementById('chatbotWindow');
        const chatbotClose = document.getElementById('chatbotClose');
        const chatbotMessages = document.getElementById('chatbotMessages');
        const chatbotInput = document.getElementById('chatbotInput');
        const chatbotSend = document.getElementById('chatbotSend');
        const notificationDot = document.getElementById('notificationDot');

        // Verificar que todos los elementos existan
        if (!chatbotToggle || !chatbotWindow) {
            console.error(" No se encontraron los elementos del chatbot");
            return;
        }

        console.log(" Elementos del chatbot encontrados");

        // ===========================
        // SISTEMA DE DETECCIN DE INTENCIONES MEJORADO
        // ===========================
        class IntentRecognizer {
            static recognizeIntent(message) {
                const lowerMessage = this.normalizeText(message);
                
                // Detecci贸n de problemas t茅cnicos espec铆ficos
                if (this.isPCProblem(lowerMessage)) return 'pc_problemas';
                if (this.isNetworkProblem(lowerMessage)) return 'redes_problemas';
                if (this.isCameraProblem(lowerMessage)) return 'camaras_problemas';
                if (this.isAlarmProblem(lowerMessage)) return 'alarmas_problemas';
                if (this.isSmartHomeProblem(lowerMessage)) return 'domotica_problemas';
                
                // Detecci贸n de intenciones generales
                if (this.isServiceInquiry(lowerMessage)) return 'servicios';
                if (this.isPricingInquiry(lowerMessage)) return 'precios';
                if (this.isEmergency(lowerMessage)) return 'emergencia';
                if (this.isContactRequest(lowerMessage)) return 'contacto';
                if (this.isQuoteRequest(lowerMessage)) return 'cotizacion';
                if (this.isGreeting(lowerMessage)) return 'saludo';
                if (this.isThanks(lowerMessage)) return 'agradecimiento';
                
                return 'no_entendido';
            }
            
            static normalizeText(text) {
                return text.toLowerCase()
                    .normalize("NFD").replace(/[\u0300-\u036f]/g, "")
                    .replace(/[^a-z0-9\s]/g, ' ')
                    .replace(/\s+/g, ' ')
                    .trim();
            }
            
            static isPCProblem(text) {
                const keywords = ['pc', 'computadora', 'laptop', 'windows', 'enciende', 'apaga', 'pantalla', 'lento', 'virus'];
                return keywords.some(keyword => text.includes(keyword));
            }
            
            static isNetworkProblem(text) {
                const keywords = ['internet', 'wifi', 'red', 'conexion', 'router', 'modem', 'senal'];
                return keywords.some(keyword => text.includes(keyword));
            }
            
            static isCameraProblem(text) {
                const keywords = ['camara', 'camaras', 'seguridad', 'cctv', 'video', 'vigilancia'];
                return keywords.some(keyword => text.includes(keyword));
            }
            
            static isAlarmProblem(text) {
                const keywords = ['alarma', 'sensor', 'movimiento', 'sirena', 'seguridad'];
                return keywords.some(keyword => text.includes(keyword));
            }
            
            static isSmartHomeProblem(text) {
                const keywords = ['domotica', 'smart home', 'automatizacion', 'luces', 'inteligente'];
                return keywords.some(keyword => text.includes(keyword));
            }
            
            static isServiceInquiry(text) {
                const keywords = ['servicio', 'servicios', 'ofrecen', 'hacen', 'que hacen'];
                return keywords.some(keyword => text.includes(keyword));
            }
            
            static isPricingInquiry(text) {
                const keywords = ['precio', 'cuesta', 'costo', 'valor', 'cuanto sale'];
                return keywords.some(keyword => text.includes(keyword));
            }
            
            static isEmergency(text) {
                const keywords = ['urgente', 'emergencia', 'ya', 'ahora', 'inmediato'];
                return keywords.some(keyword => text.includes(keyword));
            }
            
            static isContactRequest(text) {
                const keywords = ['contacto', 'telefono', 'whatsapp', 'llamar', 'numero'];
                return keywords.some(keyword => text.includes(keyword));
            }
            
            static isQuoteRequest(text) {
                const keywords = ['cotizacion', 'presupuesto', 'presu', 'cotiza'];
                return keywords.some(keyword => text.includes(keyword));
            }
            
            static isGreeting(text) {
                const keywords = ['hola', 'buenas', 'buenos', 'buen dia'];
                return keywords.some(keyword => text.includes(keyword));
            }
            
            static isThanks(text) {
                const keywords = ['gracias', 'gracia', 'thank'];
                return keywords.some(keyword => text.includes(keyword));
            }
        }

        // ===========================
        // RESPUESTAS EMPTICAS Y NATURALES
        // ===========================
        const empatheticResponses = {
            "saludo": [
                "隆Hola!  Me da gusto saludarte. Soy el asistente de Soporte Cyclops, 驴en qu茅 puedo ayudarte hoy?",
                "隆Hola!  驴C贸mo est谩s? Cu茅ntame, 驴qu茅 problema t茅cnico ten茅s para poder asistirte?",
                "隆Buen d铆a!  Estoy aqu铆 para ayudarte con cualquier problema t茅cnico que tengas. 驴Por d贸nde empezamos?"
            ],
            
            "agradecimiento": [
                "隆De nada!  Me alegra mucho poder haberte ayudado. 驴Hay algo m谩s en lo que pueda asistirte?",
                "隆No hay problema!  Estoy aqu铆 cuando me necesites. 驴Necesit谩s ayuda con algo m谩s?",
                "隆Un placer!  No dudes en consultarme si ten茅s alguna otra duda o problema."
            ],
            
            "no_entendido": [
                " Perdon谩, no estoy seguro de entenderte completamente. 驴Podr铆as contarme un poco m谩s sobre lo que necesit谩s?",
                " Creo que no capt茅 bien tu mensaje. 驴Podr铆as explicarme de otra forma qu茅 problema ten茅s?",
                " No logro entender exactamente qu茅 necesit谩s. 驴Me cont谩s con m谩s detalles para poder ayudarte mejor?"
            ]
        };

        // ===========================
        // SISTEMA DE RESPUESTAS MEJORADO
        // ===========================
        const intelligentResponses = {
            "pc_problemas": {
                message: " **隆Entiendo que ten茅s problemas con la computadora!** \n\nLos problemas de PC son muy comunes, no te preocupes. Podemos resolverlo juntos. 驴Tu PC enciende normalmente o ten茅s alg煤n problema espec铆fico?",
                options: [
                    { text: " S铆, enciende pero tiene problemas", next: "pc_enciende_si" },
                    { text: " No enciende para nada", next: "pc_no_enciende" },
                    { text: " Va muy lento o se traba", next: "pc_lento" },
                    { text: " Problemas de internet/WiFi", next: "redes_problemas" }
                ]
            },
            
            "redes_problemas": {
                message: " **隆Veo que ten茅s problemas de conexi贸n!** \n\nLas fallas de internet pueden ser muy frustrantes. 驴El problema es con el WiFi, con el cable de red, o no ten茅s conexi贸n en absoluto?",
                options: [
                    { text: " WiFi no funciona o es lento", next: "wifi_problemas" },
                    { text: " Cable de red no conecta", next: "cable_problemas" },
                    { text: " No hay internet en ning煤n dispositivo", next: "internet_total" }
                ]
            },
            
            "servicios": {
                message: " **隆Claro! Te cuento sobre nuestros servicios:**\n\nTrabajamos con todo tipo de soluciones t茅cnicas. 驴Qu茅 es lo que m谩s te interesa o necesit谩s resolver?",
                options: [
                    { text: " Soporte de PC y computadoras", next: "soporte_detalles" },
                    { text: " Redes e Internet", next: "redes_detalles" },
                    { text: " C谩maras de seguridad", next: "cctv_detalles" },
                    { text: " Alarmas y sistemas de seguridad", next: "alarmas_detalles" },
                    { text: " Dom贸tica y automatizaci贸n", next: "domotica_detalles" }
                ]
            },
            
            "emergencia": {
                message: " **隆Entiendo que es urgente! Te ayudo inmediatamente**\n\nPara atenci贸n prioritaria te recomiendo:\n\n  **Llamada directa**: +54 9 11 6680-4450\n  **WhatsApp urgente**: Mismo n煤mero, prioridad inmediata\n\n驴Qu茅 te resulta m谩s conveniente?",
                options: [
                    { text: " Llamar ahora mismo", action: "llamar_ahora" },
                    { text: " Escribir por WhatsApp", action: "whatsapp_urgente" }
                ]
            },
            
            "cotizacion": {
                message: " **隆Perfecto! Te ayudo con el presupuesto**\n\nPara darte una cotizaci贸n precisa, contame brevemente:\n 驴Qu茅 equipo o sistema necesit谩s arreglar/instalar?\n 驴Qu茅 problema espec铆fico tiene?\n 驴En qu茅 zona est谩s aproximadamente?\n\nCon eso te doy un estimado r谩pido ",
                quick_reply: true
            },
            
            "precios": {
                message: " **Sobre precios y formas de pago:**\n\nNuestros honorarios se adaptan a cada situaci贸n para que sea justo para vos. Trabajamos con:\n\n **Presupuesto sin cargo** previo a cualquier trabajo\n **Distintas opciones** seg煤n tu presupuesto\n **Todas las formas de pago** disponibles\n **Transparencia total** en los costos\n\n驴Te interesa que hablemos de n煤meros espec铆ficos para tu caso?",
                options: ["cotizacion_personalizada"]
            }
        };

        // ===========================
        // DETALLES DE SERVICIOS
        // ===========================
        const serviceDetails = {
            "soporte_detalles": " **Soporte Inform谩tico Completo**\n\nTrabajamos con:\n Instalaci贸n y configuraci贸n de software (libre y de pago)\n Mantenimiento preventivo y correctivo\n Reparaci贸n o cambio de hardware\n Optimizaci贸n de sistemas\n Eliminaci贸n de virus y malware\n\n驴Qu茅 necesit谩s espec铆ficamente para tu equipo?",
            
            "redes_detalles": " **Redes Profesionales**\n\nSoluciones de conectividad:\n Instalaci贸n de cableado estructurado\n Configuraci贸n avanzada de routers\n Optimizaci贸n de se帽al WiFi\n Seguridad de red empresarial\n Soluciones para hogar y empresa\n\n驴Ten茅s alg煤n problema de conectividad ahora mismo?",
            
            "cctv_detalles": " **Sistemas de Seguridad CCTV**\n\nTrabajamos con marcas l铆deres:\n Dahua, Hikvision y otras de alta calidad\n Sistemas IP y anal贸gicos\n Instalaci贸n profesional completa\n Monitoreo remoto\n Asesoramiento personalizado\n\n驴Para qu茅 tipo de propiedad necesit谩s el sistema?",
            
            "alarmas_detalles": " **Sistemas de Alarma Integrales**\n\nProtecci贸n completa:\n Alarmas inal谩mbricas y cableadas\n Sensores de movimiento y apertura\n Controles de acceso modernos\n Cercos el茅ctricos perimetrales\n Configuraci贸n a tu medida\n\n驴Qu茅 tipo de protecci贸n busc谩s?",
            
            "domotica_detalles": " **Dom贸tica - Hogar Inteligente**\n\n隆Contame tu idea! Podemos hacer realidad proyectos como:\n Iluminaci贸n inteligente programable\n Control de climatizaci贸n autom谩tico\n Seguridad integrada\n Electrodom茅sticos conectados\n Sistemas de entretenimiento\n\n驴Qu茅 te gustar铆a automatizar?"
        };

        // ===========================
        // FUNCIONES PRINCIPALES
        // ===========================

        // Auto-abrir chatbot
        setTimeout(() => {
            if (!localStorage.getItem('cyclopsChatbotShown')) {
                chatbotWindow.style.display = 'flex';
                notificationDot.style.display = 'block';
                localStorage.setItem('cyclopsChatbotShown', 'true');
            }
        }, 30000);

        // Toggle chatbot
        chatbotToggle.addEventListener('click', () => {
            chatbotWindow.style.display = chatbotWindow.style.display === 'flex' ? 'none' : 'flex';
            notificationDot.style.display = 'none';
        });

        chatbotClose.addEventListener('click', () => {
            chatbotWindow.style.display = 'none';
        });

        // Funciones del chatbot mejoradas
        function showTypingIndicator() {
            const typingDiv = document.createElement('div');
            typingDiv.classList.add('typing-indicator');
            typingDiv.id = 'typingIndicator';
            
            for (let i = 0; i < 3; i++) {
                const dot = document.createElement('div');
                dot.classList.add('typing-dot');
                typingDiv.appendChild(dot);
            }
            
            const typingText = document.createElement('span');
            typingText.textContent = 'Asistente Cyclops est谩 escribiendo...';
            typingText.style.fontSize = '0.8rem';
            typingText.style.color = '#7f8c8d';
            typingText.style.marginLeft = '10px';
            
            typingDiv.appendChild(typingText);
            chatbotMessages.appendChild(typingDiv);
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
            
            return typingDiv;
        }

        function hideTypingIndicator() {
            const typingIndicator = document.getElementById('typingIndicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        function getRandomResponse(responses) {
            return responses[Math.floor(Math.random() * responses.length)];
        }

        function sendMessage() {
            const message = chatbotInput.value.trim();
            if (message === '') return;

            addMessage(message, 'user');
            chatbotInput.value = '';

            const typingIndicator = showTypingIndicator();

            setTimeout(() => {
                hideTypingIndicator();
                processUserMessage(message);
            }, 1500 + Math.random() * 1000);
        }

        function processUserMessage(message) {
            const intent = IntentRecognizer.recognizeIntent(message);
            
            switch(intent) {
                case 'saludo':
                    addMessage(getRandomResponse(empatheticResponses.saludo), 'bot');
                    break;
                    
                case 'agradecimiento':
                    addMessage(getRandomResponse(empatheticResponses.agradecimiento), 'bot');
                    break;
                    
                case 'no_entendido':
                    addMessage(getRandomResponse(empatheticResponses.no_entendido), 'bot');
                    break;
                    
                default:
                    if (intelligentResponses[intent]) {
                        const response = intelligentResponses[intent];
                        addMessage(response.message, 'bot', response.options);
                    } else {
                        // Respuesta por defecto mejorada
                        addMessage(" **Creo que entend铆 que necesit谩s ayuda t茅cnica, pero no estoy seguro de qu茅 espec铆ficamente.**\n\n驴Podr铆as contarme un poco m谩s sobre el problema que ten茅s? Por ejemplo: 'mi PC no enciende', 'el WiFi no funciona', 'necesito instalar c谩maras', etc.", 'bot');
                    }
            }
        }

        function addMessage(text, sender, options = []) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message', `${sender}-message`);
            
            const contentDiv = document.createElement('div');
            contentDiv.classList.add('message-content');
            
            const textDiv = document.createElement('div');
            textDiv.innerHTML = text.replace(/\n/g, '<br>');
            contentDiv.appendChild(textDiv);

            // Opciones de servicios
            if (options && options.length > 0) {
                const optionsDiv = document.createElement('div');
                optionsDiv.classList.add('service-options');
                
                options.forEach(option => {
                    const button = document.createElement('button');
                    button.classList.add('service-option');
                    
                    if (option.action) {
                        // Bot贸n con acci贸n directa
                        button.textContent = option.text;
                        button.addEventListener('click', () => {
                            handleAction(option.action);
                        });
                    } else if (option.next) {
                        // Bot贸n con flujo de conversaci贸n
                        button.textContent = option.text;
                        button.addEventListener('click', () => {
                            addMessage(option.text, 'user');
                            setTimeout(() => {
                                processFlow(option.next);
                            }, 1000);
                        });
                    } else {
                        // Bot贸n est谩ndar
                        button.textContent = option.replace(/_/g, ' ')
                            .replace(/\b\w/g, l => l.toUpperCase())
                            .replace('Detalles', 'M谩s Info');
                        button.addEventListener('click', () => {
                            addMessage(button.textContent, 'user');
                            setTimeout(() => {
                                addMessage(serviceDetails[option] || "Te cuento m谩s sobre esto...", 'bot');
                            }, 1000);
                        });
                    }
                    
                    optionsDiv.appendChild(button);
                });
                
                contentDiv.appendChild(optionsDiv);
            }

            messageDiv.appendChild(contentDiv);
            chatbotMessages.appendChild(messageDiv);
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
            
            // Guardar conversaci贸n
            saveConversation();
        }

        function processFlow(flowKey) {
            if (intelligentResponses[flowKey]) {
                const response = intelligentResponses[flowKey];
                addMessage(response.message, 'bot', response.options);
            } else if (serviceDetails[flowKey]) {
                addMessage(serviceDetails[flowKey], 'bot');
            } else {
                addMessage(" **Basado en lo que me cont谩s, te recomiendo que hablemos para evaluar tu caso espec铆fico.**\n\n驴Quer茅s que coordine una consulta t茅cnica sin compromiso?", 'bot', [
                    { text: " S铆, coordinar consulta", action: "agendar_consulta" },
                    { text: " M谩s informaci贸n primero", action: "mas_info" }
                ]);
            }
        }

        function handleAction(action) {
            switch(action) {
                case 'llamar_ahora':
                    window.open('tel:+5491166804450');
                    addMessage(" **Perfecto, te estoy conectando por tel茅fono...**\n\nSi no se completa la llamada, pod茅s marcar directamente al: +54 9 11 6680-4450", 'bot');
                    break;
                    
                case 'whatsapp_urgente':
                    const urgentMessage = "隆Hola! Necesito ayuda urgente con un problema t茅cnico. Por favor cont谩ctenme lo antes posible.";
                    window.open(`https://wa.me/5491166804450?text=${encodeURIComponent(urgentMessage)}`, '_blank');
                    addMessage(" **隆Listo! Te redirijo a WhatsApp para atenci贸n inmediata...**", 'bot');
                    break;
                    
                case 'agendar_consulta':
                    addMessage(" **隆Excelente! Para agendar una consulta t茅cnica:**\n\nPod茅s contactarnos directamente al +54 9 11 6680-4450 o escribirnos por WhatsApp para coordinar d铆a y hora que te convenga.\n\nLa consulta inicial no tiene costo ", 'bot');
                    break;
                    
                default:
                    addMessage(" Te recomiendo contactarnos directamente para resolver esto m谩s r谩pido: +54 9 11 6680-4450", 'bot');
            }
        }

        function saveConversation() {
            const messages = chatbotMessages.innerHTML;
            localStorage.setItem('cyclopsChatbotConversation', messages);
        }

        function loadConversation() {
            const savedConversation = localStorage.getItem('cyclopsChatbotConversation');
            if (savedConversation) {
                chatbotMessages.innerHTML = savedConversation;
                chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
            }
        }

        // ===========================
        // EVENT LISTENERS MEJORADOS
        // ===========================

        // Event listeners del chatbot
        chatbotSend.addEventListener('click', sendMessage);
        chatbotInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // Preguntas r谩pidas mejoradas
        document.addEventListener('click', function(e) {
            if (e.target.closest('.quick-question')) {
                const button = e.target.closest('.quick-question');
                const action = button.getAttribute('data-action');
                const question = button.getAttribute('data-question');
                
                if (action === 'pc_problemas') {
                    addMessage("Necesito ayuda con un problema t茅cnico - diagn贸stico r谩pido", 'user');
                    setTimeout(() => {
                        addMessage(" **隆Perfecto! Hagamos un diagn贸stico r谩pido**\n\nContame, 驴qu茅 equipo o sistema te est谩 dando problemas?", 'bot', [
                            { text: " Computadora/PC", next: "pc_problemas" },
                            { text: " Internet/Redes", next: "redes_problemas" },
                            { text: " C谩maras de seguridad", next: "camaras_problemas" },
                            { text: " Sistema de alarmas", next: "alarmas_problemas" },
                            { text: " Dom贸tica/Automatizaci贸n", next: "domotica_problemas" }
                        ]);
                    }, 1000);
                } else if (question) {
                    addMessage(button.textContent, 'user');
                    setTimeout(() => {
                        processUserMessage(button.textContent);
                    }, 1000);
                }
            }
        });

        // Sugerencias
        document.querySelectorAll('.suggestion-btn').forEach(button => {
            button.addEventListener('click', () => {
                const question = button.getAttribute('data-question');
                addMessage(button.textContent, 'user');
                setTimeout(() => {
                    processUserMessage(button.textContent);
                }, 1000);
            });
        });

        // Cargar conversaci贸n al iniciar
        loadConversation();

        console.log(" Chatbot inteligente inicializado correctamente");
    }
</script>
    
</body>
</html>
    


